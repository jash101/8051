;KEYBOARD INTERFACE PROGRAM

			ORG		0000H
			AJMP	MAIN
			ORG		0050H
MAIN:		MOV		P0,		#00FFH

NEXT:		MOV		A,		P0
			CJNE	A,		#0EBH,		CHECKKEY1
			MOV		P2,		#0080H
			ACALL	DELAY
		
CHECKKEY1:	CJNE	A,		#0DBH,		CHECKKEY2
			MOV		P2,		#0090H
			ACALL	DELAY
			
CHECKKEY2:	CJNE	A,		#0BBH,		CHECKKEY3
			MOV		P2,		#0008H
			ACALL	DELAY			
			
CHECKKEY3:	CJNE	A,		#07BH,		NEXT
			MOV		P2,		#0000H
			ACALL	DELAY
			JMP		NEXT

DELAY:		MOV 	TMOD,	#0010H		//DELAY OF 20ms
			MOV		TL1,	#00B1H
			MOV		TH1,	#00DFH
			SETB	TR1
HERE:		JNB		TF1,	HERE
			CLR 	TR1
			CLR 	TF1
			RET
			
			END
