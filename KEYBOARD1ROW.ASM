;KEYBOARD INTERFACE PROGRAM

			ORG		0000H
			AJMP	MAIN
			ORG		0050H
MAIN:		MOV		P0,		#00FFH

NEXT:		MOV		A,		P0
			CJNE	A,		#0EEH,		CHECKKEY1
			MOV		P2,		#00C0H
			ACALL	DELAY
		
CHECKKEY1:	CJNE	A,		#0DEH,		CHECKKEY2
			MOV		P2,		#00F9H
			ACALL	DELAY
			
CHECKKEY2:	CJNE	A,		#0BEH,		CHECKKEY3
			MOV		P2,		#00A4H
			ACALL	DELAY			
			
CHECKKEY3:	CJNE	A,		#07EH,		NEXT
			MOV		P2,		#00B0H
			ACALL	DELAY
			JMP		NEXT

DELAY:		MOV 	TMOD,	#0010H		//DELAY OF 20ms
			MOV		TL1,	#00B1H
			MOV		TH1,	#00DFH
			SETB	TR1
HERE:		JNB		TF1,	HERE
			CLR 	TR1
			CLR 	TF1
			RET
			
			END
